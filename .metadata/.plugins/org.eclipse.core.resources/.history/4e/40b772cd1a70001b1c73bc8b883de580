import java.io.BufferedReader;
import java.io.File;
import java.io.FileNotFoundException;
import java.io.FileOutputStream;
import java.io.FileReader;
import java.io.IOException;
import java.util.ArrayList;

public class AddressBook {
	
	
	
	
	//creates file
	public static void createFile(String fileName) {
	    try {
	        File file = new File(fileName);
	        if (!file.exists()) {
	            file.createNewFile();
	        } else {
	            FileOutputStream writer = new FileOutputStream(fileName);
	            writer.write(("").getBytes());
	            writer.close();
	        }
	    } catch (IOException e) {
	        e.printStackTrace();
	    }
	}
	
	public static void readFile(String fileName, ArrayList<Contact> al)throws FileNotFoundException{
		String firstName;
		String lastName;
		String address;
		int phoneNumber;
		
	    try(BufferedReader br = new BufferedReader(new FileReader(fileName))) {
	        String line = br.readLine();
	        while(line != null) {
	        	String[] metadata = line.split(",");
	        	al.add(new Contact(metadata[0], metadata[1], metadata[2], 
	    				Integer.parseInt(metadata[3])));
	        	line = br.readLine();
	        }
	        
	    } catch (IOException e) {
	      System.out.println("SOMETHINGS IS MESSED UP, OOPS!");
	    }
	}
		

	//1. Add a new contact 
	public void addContact(Contact person) {
		contacts.add(person);
	}

	//2. Update an existing contact
	public void updateContactByName() {
		//TODO
	}
	
	public void updateContactByNumber() {
		//TODO
	}
	
	public void updateContactByAddress(String oldAddress , String newAddress) {
		//TODO
	}

	//3. Delete a contact
	public void deleteContact(String LastName, String FirstName) {
		//TODO
	}

	//4. List all added contacts in sorted order
	public void displayContacts() {
		//TODO
	}

	//5. Search for a given contact. Search can be done by first name, last name, or phone number. 
	//   Return all the details upon finding a match.
	public Contact searchContact() {
		
		
		//TODO
		Contact c = new Contact(null, null, null, 0);
		return  c;
	}
	
	//6. Quit
	public static void quit() {
		//TODO
	}
	
	public static void main(String[] args) throws FileNotFoundException {
		ArrayList<Contact> contacts = new ArrayList<Contact>();
		createFile("AddressBook.csv");
		
		
		System.out.println("AddressBook.txt is loaded. Quit to save changes to this file.");
		readFile("AddressBook.csv", contacts);
	}
	
	
}
